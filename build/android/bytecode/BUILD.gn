# Copyright 2020 The Mises Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import("//build/config/android/rules.gni")

assert(current_toolchain == default_toolchain)

java_binary("java_bytecode_rewriter") {
  sources = [
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesActivityClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesAppHooksClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesAppMenuClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesApplicationImplBaseClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesAutocompleteCoordinatorClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesAutocompleteMediatorClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesAutofillPopupBridgeClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesBookmarkUtilsClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesBottomControlsCoordinatorClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesBottomControlsMediatorClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesCachedFlagClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesClassVisitor.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesCommandLineInitUtilClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesContentSettingsResourcesClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesCustomizationProviderDelegateImplClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesDefaultBrowserPromoUtilsClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesDropdownItemViewInfoListBuilderClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesDropdownItemViewInfoListManagerClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesDynamicColorsClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesEditUrlSuggestionProcessorClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesFeedSurfaceCoordinatorClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesFeedSurfaceMediatorClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesFourStateCookieSettingsPreferenceBaseClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesFreIntentCreatorClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesHomepageManagerClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesIncognitoToggleTabLayoutClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesIntentHandlerClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesLaunchIntentDispatcherClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesLocationBarCoordinatorClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesLocationBarLayoutClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesLocationBarMediatorClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesLogoMediatorClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesMainPreferenceBaseClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesManageAccountDevicesLinkViewClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesManageSyncSettingsClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesMenuButtonCoordinatorClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesMimeUtilsClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesMostVisitedTilesLayoutBaseClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesMostVisitedTilesMediatorClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesNewTabPageClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesNewTabPageLayoutClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesNotificationManagerProxyImplClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesNotificationPermissionRationaleDialogControllerClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesPartnerBookmarksDelegateImplClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesPasswordSettingsBaseClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesPermissionDialogDelegateClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesPermissionDialogModelClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesPureJavaExceptionReporterClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesQueryTileSectionClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesQuickActionSearchWidgetProviderClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesReaderModeManagerClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesReturnToChromeUtilClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesSearchEngineAdapterClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesSettingsLauncherImplClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesShareDelegateImplClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesSingleCategorySettingsClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesSingleWebsiteSettingsClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesSiteSettingsCategoryClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesSiteSettingsDelegateClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesSiteSettingsPreferencesBaseClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesStatusMediatorClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesStrictPreferenceKeyCheckerClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesTabGroupUiCoordinatorClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesTabSwitcherModeTTCoordinatorClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesTabSwitcherModeTopToolbarClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesTabUiThemeProviderClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesTabbedActivityClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesTemplateUrlServiceFactoryClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesThemeUtilsClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesTileViewClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesToolbarLayoutClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesToolbarManagerClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesTopToolbarCoordinatorClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesTranslateCompactInfoBarBaseClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesVariationsSeedFetcherClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesWebsiteClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesWebsitePermissionsFetcherClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/MisesBottomSheetControllerImplClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/ByteCodeProcessor.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/ClassPathValidator.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/ThreadAssertionClassAdapter.java",
    "//mises/build/android/bytecode/java/org/mises/bytecode/TypeUtils.java",
  ]
  main_class = "org.mises.bytecode.ByteCodeProcessor"
  deps = [
    "//third_party/android_deps:org_ow2_asm_asm_java",
    "//third_party/android_deps:org_ow2_asm_asm_tree_java",
    "//third_party/android_deps:org_ow2_asm_asm_util_java",
  ]
  wrapper_script_name = "helper/java_bytecode_rewriter"
  enable_bytecode_checks = false
}
